<div flex-gt-sm="80" flex="100" layout="column" ng-init="vm.loadSettings()">
    <div class="breadcrumb-container">
        <p ng-bind="::vm.username">You</p>
        <h1>Settings</h1>
    </div>
    <md-card>
        <md-card-content>
            <div class="loading-container" layout-align="center center" ng-if="!vm.loaded.APIKeys">
                <md-progress-circular md-mode="indeterminate" md-diameter="50"></md-progress-circular>
            </div>
            <div ng-if="vm.loaded.APIKeys" flex="100" flex-gt-xs="70" flex-gt-sm="50" flex-gt-md="40"
                 class="tab-settings">
                <md-toolbar>
                    <div class="md-toolbar-tools" layout-align="space-between center">
                        <span><i class="fa fa-key"></i> API keys</span>
                        <md-button ng-click="vm.showAPIKeyDialog($event)">
                            <i class="fa fa-plus"></i> Add
                        </md-button>
                    </div>
                </md-toolbar>
                <md-list>
                    <md-list-item ng-repeat="APIKey in vm.APIKeys"
                                  ng-click="vm.showAPIKeyDialog($event, APIKey)"
                                  aria-label="API key">
                        <div class="md-list-item-text">
                            <h4 ng-bind="APIKey.label"></h4>
                        </div>
                    </md-list-item>
                    <md-toolbar>
                        <div class="md-toolbar-tools" layout-align="space-between center">
                            <span><i class="fa fa-lock"></i> Security</span>
                        </div>
                    </md-toolbar>
                </md-list>
                <md-list-item>
                    <div class="md-list-item-text">
                        <p>Password</p>
                    </div>
                    <md-button class="md-primary md-secondary"
                               ng-click="vm.showChangePasswordDialog($event)">
                        Change
                    </md-button>
                </md-list-item>
                <md-list-item>
                    <div class="md-list-item-text">
                        <p>Authenticator application</p>
                    </div>
                    <md-button class="md-primary md-secondary"
                               ng-click="vm.showSetupAuthenticatorApplication($event)"
                               ng-if="!vm.twoFAMethods.totp">
                        Setup
                    </md-button>
                    <md-button class="md-warn md-secondary"
                               ng-click="vm.removeAuthenticatorApplication($event)"
                               ng-if="vm.twoFAMethods.totp">
                        Remove
                    </md-button>
                </md-list-item>
                </md-list>
            </div>
        </md-card-content>
    </md-card>
</div>
